{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d8649b3eda345b827e0c","webpack:///external \"assert\"","webpack:///external \"fs\"","webpack:///external \"lodash/filter\"","webpack:///external \"lodash/isArray\"","webpack:///external \"lodash/isObject\"","webpack:///external \"lodash/isString\"","webpack:///external \"lodash/keyBy\"","webpack:///external \"lodash/sortBy\"","webpack:///external \"lodash/uniqBy\"","webpack:///external \"mkdirp\"","webpack:///external \"os\"","webpack:///external \"path\"","webpack:///external \"promise-map-limit\"","webpack:///external \"rimraf\"","webpack:///./lib/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"assert\"), require(\"fs\"), require(\"lodash/filter\"), require(\"lodash/isArray\"), require(\"lodash/isObject\"), require(\"lodash/isString\"), require(\"lodash/keyBy\"), require(\"lodash/sortBy\"), require(\"lodash/uniqBy\"), require(\"mkdirp\"), require(\"os\"), require(\"path\"), require(\"promise-map-limit\"), require(\"rimraf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"assert\", \"fs\", \"lodash/filter\", \"lodash/isArray\", \"lodash/isObject\", \"lodash/isString\", \"lodash/keyBy\", \"lodash/sortBy\", \"lodash/uniqBy\", \"mkdirp\", \"os\", \"path\", \"promise-map-limit\", \"rimraf\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"assert\"), require(\"fs\"), require(\"lodash/filter\"), require(\"lodash/isArray\"), require(\"lodash/isObject\"), require(\"lodash/isString\"), require(\"lodash/keyBy\"), require(\"lodash/sortBy\"), require(\"lodash/uniqBy\"), require(\"mkdirp\"), require(\"os\"), require(\"path\"), require(\"promise-map-limit\"), require(\"rimraf\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"assert\"], root[\"fs\"], root[\"lodash/filter\"], root[\"lodash/isArray\"], root[\"lodash/isObject\"], root[\"lodash/isString\"], root[\"lodash/keyBy\"], root[\"lodash/sortBy\"], root[\"lodash/uniqBy\"], root[\"mkdirp\"], root[\"os\"], root[\"path\"], root[\"promise-map-limit\"], root[\"rimraf\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d8649b3eda345b827e0c","module.exports = require(\"assert\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"assert\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"lodash/filter\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/filter\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"lodash/isArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isArray\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"lodash/isObject\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isObject\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"lodash/isString\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isString\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"lodash/keyBy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/keyBy\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"lodash/sortBy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/sortBy\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"lodash/uniqBy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/uniqBy\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"mkdirp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mkdirp\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"promise-map-limit\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"promise-map-limit\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"rimraf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rimraf\"\n// module id = 13\n// module chunks = 0","import * as fs from 'fs';\nimport * as path from 'path';\nimport * as assert from 'assert';\nimport * as os from 'os';\nimport * as mkdirp from 'mkdirp';\nimport * as rimraf from 'rimraf';\nimport * as map from 'promise-map-limit';\nimport * as isString from 'lodash/isString';\nimport * as isObject from 'lodash/isObject';\nimport * as isArray from 'lodash/isArray';\nimport * as sortBy from 'lodash/sortBy';\nimport * as uniqBy from 'lodash/uniqBy';\nimport * as keyBy from 'lodash/keyBy';\nimport * as filter from 'lodash/filter';\n\n/*\n|--------------------------------------------------------------------------\n| Public Type Definitions\n|--------------------------------------------------------------------------\n*/\n\nexport interface LnkrOptions {\n  cwd?: string;\n  packages?: string[];\n  scopeRename?: string;\n  recursive?: boolean;\n  cache?: Partial<Link>;\n}\n\nexport interface Link {\n  to: string;\n  from: string;\n  name: string;\n  target: string;\n  realized: string;\n}\n\n/*\n|--------------------------------------------------------------------------\n| Lnkr Methods\n|--------------------------------------------------------------------------\n*/\n\nexport const link = (dirPath: string, options: LnkrOptions): Promise<Link[]> => {\n  assert.equal(isString(dirPath), true, 'dirPath should be a string');\n  const getLinksFn = options.recursive ? listLinksRecursive : listLinks;\n  return readPackage(dirPath)\n    .then((pkg: Package) => getLinksFn(pkg, options))\n    .then(filterAllPathsToRemove)\n    .then(unlinkLinks)\n    .then(() => readPackage(dirPath))\n    .then((pkg: Package) => getLinksFn(pkg, options))\n    .then(linkLinks);\n};\n\nexport const unlink = (dirPath: string, options: LnkrOptions): Promise<Link[]> => {\n  assert.equal(isString(dirPath), true, 'dirPath should be a string');\n  const getLinksFn = options.recursive ? listLinksRecursive : listLinks;\n  return readPackage(dirPath)\n    .then((pkg: Package) => getLinksFn(pkg, options))\n    .then(filterLinksToUnlink)\n    .then(unlinkLinks);\n};\n\nexport const list = (dirPath: string, options: LnkrOptions): Promise<Link[]> => {\n  assert.equal(isString(dirPath), true, 'dirPath should be a string');\n  const getLinksFn = options.recursive ? listLinksRecursive : listLinks;\n  return readPackage(dirPath)\n    .then((pkg: Package) => getLinksFn(pkg, options))\n    .then(filterLinksToUnlink);\n};\n\n/*\n|--------------------------------------------------------------------------\n| Private Type Defintiions\n|--------------------------------------------------------------------------\n*/\n\ninterface PackageDependencyMap {\n  [name: string]: string;\n}\n\ninterface Package {\n  name: string;\n  version: string;\n  dirPath: string;\n  dependencies: PackageDependencyMap;\n  devDependencies: PackageDependencyMap;\n}\n\n/*\n|--------------------------------------------------------------------------\n| Private Utilities\n|--------------------------------------------------------------------------\n*/\n\nconst linkLinks = (links: Link[]): Promise<Link[]> => {\n  assert.ok(isArray(links), 'links should be an array');\n  return map(links, 500, makeLink);\n};\n\nconst unlinkLinks = (links: Link[]): Promise<Link[]> => {\n  assert.ok(isArray(links), 'links should be an array');\n  return map(links, 500, (lnk: Link) => {\n    return isSymbolicLink(lnk.from)\n      .then((isLink: boolean) => {\n        if (isLink) {\n          return removeLink(lnk);\n        } else {\n          return removePath(lnk);\n        }\n      });\n  });\n};\n\nconst listLinksRecursive = (pkg: Package, options: LnkrOptions): Promise<Link[]> => {\n  const packageLinks = {};\n  options = options || ({} as LnkrOptions);\n  options.cache = {};\n\n  const _listLinksRecursive = (nextPkg: Package): Promise<Link[]> => {\n    if (packageLinks.hasOwnProperty(nextPkg.dirPath)) {\n      Promise.resolve(packageLinks[nextPkg.dirPath]);\n    } else {\n      return listLinks(nextPkg, options)\n        .then((links: Link[]) => {\n          packageLinks[nextPkg.dirPath] = packageLinks[nextPkg.dirPath] || [];\n          packageLinks[nextPkg.dirPath] = packageLinks[nextPkg.dirPath].concat(links);\n          options.cache = Object.assign({}, options.cache, keyBy(links, 'name'));\n          const linksToRecurse = links.map((lnk: Link) => lnk.to);\n          return map(linksToRecurse, 500, readPackage);\n        })\n        .then((pkgs: Package[]) => map(pkgs, 500, _listLinksRecursive));\n    }\n  };\n\n  return _listLinksRecursive(pkg)\n    .then(() => {\n      const flattened = Object.keys(packageLinks)\n        .reduce((result, value) => (result || []).concat(packageLinks[value]), []);\n      return uniqBy(flattened, (lnk: Link) => lnk.from + lnk.to);\n    });\n};\n\nconst listLinks = (pkg: Package, options: LnkrOptions): Promise<Link[]> => {\n  const localDependencies = getPackageDependencies(pkg, options);\n  return map(localDependencies, 500, realPath)\n    .then((paths: string[]) => sortBy(uniqBy(paths || [])), (pth: string) => path)\n    .then((sortedPaths: string[]) => map(sortedPaths, 500, readPackage))\n    .then((pkgs: Package[]) => map(pkgs, 500, getDependencyLink.bind(null, pkg)));\n};\n\nconst filterLinksToUnlink = (links: Link[]): Promise<Link[]> => {\n  const uniqueLinks: Link[] = uniqBy(links, (lnk: Link) => lnk.from);\n  const linkPromises: Array<Promise<boolean>> = uniqueLinks.map((lnk: Link) => isSymbolicLinkToPath(lnk.from, lnk.to));\n  return Promise.all(linkPromises)\n    .then((isLinkResults: boolean[]) => {\n      return filter(uniqueLinks, (lnk: Link, index: number) => isLinkResults[index] === true);\n    });\n};\n\nconst filterAllPathsToRemove = (links: Link[]): Promise<Link[]> => {\n  const uniqueLinks: Link[] = uniqBy(links, (lnk: Link) => lnk.from);\n  const linkPromises: Array<Promise<boolean>> = uniqueLinks.map((lnk: Link) => isPath(lnk.from));\n  return Promise.all(linkPromises).then((isLinkResults: boolean[]) => {\n    return filter(uniqueLinks, (lnk, index) => isLinkResults[index] === true);\n  });\n};\n\nconst getPackageDependencies = (pkg: Package, options: LnkrOptions): string[] => {\n  assert.equal(isObject(pkg), true, 'pkg should be an object');\n  const deps = getDependencyMap(pkg);\n  return Object.keys(deps)\n    .filter((name: string): boolean => isLocalDependency(deps[name], name, options))\n    .map((name) => getLocalDependency(name, pkg, deps, options));\n};\n\nconst getDependencyMap = (pkg: Package): PackageDependencyMap => {\n  return Object.assign({}, pkg.dependencies, pkg.devDependencies);\n};\n\nconst getDependencyLink = (\n  linkingPkg: Package,\n  targetPkg: Package,\n): Link => {\n  const linkingDependencyMap = getDependencyMap(linkingPkg);\n\n  const linkFrom = path.join(linkingPkg.dirPath, 'node_modules');\n  return {\n    name: targetPkg.name,\n    from: path.resolve(linkFrom, targetPkg.name),\n    to: targetPkg.dirPath,\n    target: `${targetPkg.name}@${linkingDependencyMap[targetPkg.name]}`,\n    realized: `${targetPkg.name}@${targetPkg.version}`,\n  };\n};\n\nconst getLocalDependency = (\n  name: string,\n  pkg: Package,\n  deps: PackageDependencyMap,\n  options: LnkrOptions,\n): string => {\n  if (options && options.cache && options.cache.hasOwnProperty(name)) {\n    return options.cache[name].to;\n  }\n  let pkgPath = deps[name];\n  pkgPath = pkgPath.replace(/^file:\\/\\//g, '');\n\n  if (options && options.scopeRename) {\n    return path.resolve(options.cwd, options.scopeRename);\n  }\n\n  if (options && options.packages && options.packages.length > 0) {\n    return path.resolve(options.cwd, name);\n  }\n\n  return path.resolve(pkg.dirPath, pkgPath);\n};\n\nconst isLocalDependency = (\n  locator: string,\n  name: string,\n  options: LnkrOptions,\n): boolean => {\n  const ignoreExt = '.tgz';\n\n  if (options && options.cache && options.cache.hasOwnProperty(name)) {\n    return true;\n  }\n\n  if (options && options.scopeRename && options.packages) {\n    return isScopedDependency(name, options);\n  }\n\n  if (options && options.packages) {\n    return options.packages.indexOf(name) !== -1;\n  }\n\n  return (\n    (locator.indexOf('.') === 0\n      || locator.indexOf('/') === 0\n    || locator.indexOf('file:') === 0)\n    && locator.lastIndexOf(ignoreExt) !== locator.length - ignoreExt.length\n  );\n};\n\nconst isScopedDependency = (\n  name: string,\n  options: LnkrOptions,\n): boolean => {\n  return name.indexOf('@') !== -1\n    && options.packages\n    && options.packages.indexOf(name) !== -1;\n};\n\n/*\n|--------------------------------------------------------------------------\n| File System Wrapper Utilities\n|--------------------------------------------------------------------------\n*/\n\nconst getSymlinkType = (): string  => {\n  if (os.platform() === 'win32') {\n    return 'junction';\n  } else {\n    return 'dir';\n  }\n};\n\nconst makeLink = (lnk: Link): Promise<Link> => {\n  return new Promise((resolve, reject) => {\n    mkdirp(path.dirname(lnk.from), (mkdirpErr: NodeJS.ErrnoException) => {\n      if (mkdirpErr && mkdirpErr.code !== 'EEXISTS') {\n        return reject(mkdirpErr);\n      }\n\n      let linkPath = lnk.to;\n      // Junction points can't be relative\n      if (getSymlinkType() !== 'junction') {\n        linkPath = path.relative(path.dirname(lnk.from), lnk.to);\n      }\n\n      fs.symlink(linkPath, lnk.from, getSymlinkType(), (symlinkErr: NodeJS.ErrnoException) => {\n        if (symlinkErr) {\n          reject(symlinkErr);\n        } else {\n          resolve(lnk);\n        }\n      });\n    });\n  });\n};\n\nconst removeLink = (lnk: Link): Promise<Link> => {\n  return new Promise((resolve, reject) => {\n    fs.unlink(lnk.from, (err: Error) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(lnk);\n      }\n    });\n  });\n};\n\nconst removePath = (lnk: Link): Promise<Link> => {\n  return new Promise((resolve, reject) => {\n    rimraf(lnk.from, (err: Error) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(lnk);\n      }\n    });\n  });\n};\n\nconst realPath = (inputPath: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    fs.realpath(path.dirname(inputPath), (err: NodeJS.ErrnoException, outputPath: string) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(path.join(outputPath, path.basename(inputPath)));\n      }\n    });\n  });\n};\n\nconst readPackage = (dirPath: string): Promise<Package> => {\n  assert.equal(isString(dirPath), true, 'dirPath should be a string');\n  return new Promise ((resolve, reject) => {\n    const pkgpath = path.join(dirPath, 'package.json');\n    fs.readFile(pkgpath, (readErr: NodeJS.ErrnoException, data: any) => {\n      if (readErr) {\n        reject(readErr);\n      }\n      try {\n        const pkg = JSON.parse(data);\n        pkg.dirPath = dirPath;\n        resolve(pkg);\n      } catch (parseErr) {\n        reject(parseErr);\n      }\n    });\n  });\n};\n\nconst isSymbolicLinkToPath = (linkPath: string, target: string): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    fs.lstat(linkPath, (statErr: NodeJS.ErrnoException, stat: fs.Stats) => {\n      if (statErr) {\n        if (statErr.code === 'ENOENT') {\n          return resolve(false);\n        } else {\n          return reject(statErr);\n        }\n      } else if (stat.isSymbolicLink()) {\n        fs.readlink(linkPath, (linkErr: NodeJS.ErrnoException, linkStat: string) => {\n          if (linkErr) {\n            return reject (linkErr);\n          }\n          const resolvedLink = path.resolve(path.dirname(linkPath), linkStat);\n          return resolve(resolvedLink === target);\n        });\n      } else {\n        return resolve(false);\n      }\n    });\n  });\n};\n\nconst isSymbolicLink = (filePath: string): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    fs.lstat(filePath, (err: NodeJS.ErrnoException, stat: fs.Stats) => {\n      if (err) {\n        if (err.code === 'ENOENT') {\n          return resolve(false);\n        } else {\n          return reject(err);\n        }\n      } else if (stat.isSymbolicLink()) {\n        return resolve(true);\n      } else {\n        return resolve(false);\n      }\n    });\n  });\n};\n\nconst isPath = (filePath: string): Promise<boolean> => {\n  return new Promise((resolve, reject) => {\n    fs.lstat(filePath, (err: NodeJS.ErrnoException, stat: fs.Stats) => {\n      if (err) {\n        if (err.code === 'ENOENT') {\n          return resolve(false);\n        } else {\n          return reject(err);\n        }\n      } else {\n        return resolve(!!stat);\n      }\n    });\n  });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.ts"],"sourceRoot":""}